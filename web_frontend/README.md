# 手写文字生成器 - 网页前端

这是手写文字生成项目的现代化网页前端界面，提供与小程序相同的全部功能。

## 功能特性

### 🎨 核心功能
- **文本输入与编辑** - 支持手动输入或上传文档（Word/PDF/TXT）
- **实时字数统计** - 自动计算字符数量和预计页数
- **文件上传** - 支持从文档中提取文字
- **字体选择** - 从服务器字体库选择或上传自定义TTF字体
- **背景设置** - 支持自定义背景图片或自动生成笔记本背景

### ⚙️ 参数设置
- **基础参数**
  - 字体大小
  - 字间距
  - 行间距
  - 四边边距（上下左右）

- **高级设置**（可折叠）
  - 随机扰动强度（行间距、字体大小、字间距）
  - 位置偏移（横向、纵向、旋转）
  - 涂改效果（概率、长度、宽度、角度）
  - 墨水深度扰动

### 🖼️ 生成与导出
- **实时预览** - 生成首页预览效果
- **PDF导出** - 一键生成PDF文件
- **相思豆系统** - 支持使用相思豆码进行授权生成

## 使用方法

### 1. 启动服务

确保后端服务已启动（端口5000），然后启动网页前端服务：

```bash
cd web_frontend
python -m http.server 8082
```

### 2. 访问页面

在浏览器中打开：
```
http://localhost:8082
```

### 3. 使用流程

1. **输入文本**
   - 直接在文本框中输入内容
   - 或点击"选择Word文件"/"收藏输入文件"上传文档

2. **调整设置**
   - 选择字体
   - 选择纸张类型（横线/白底/自定义）
   - 调整随机扰动强度（推荐3%）
   - 展开"高级设置"进行精细调整

3. **预览效果**
   - 点击"点击预览"按钮查看首页效果
   - 右侧预览区会显示生成的手写效果

4. **下载文档**
   - 点击"下载文档"按钮
   - 输入6位相思豆码
   - 验证成功后自动下载PDF文件

## 技术架构

- **前端框架**：原生HTML/CSS/JavaScript
- **设计风格**：现代化渐变背景 + 卡片式布局
- **响应式设计**：支持桌面和移动设备
- **API通信**：RESTful API，与后端Flask服务交互

## 文件结构

```
web_frontend/
├── index.html      # 主页面HTML
├── styles.css      # 样式文件
├── app.js          # JavaScript逻辑
└── README.md       # 本文件
```

## API接口

本前端调用以下后端API：

- `GET /api/miniprogram/fonts` - 获取字体列表
- `POST /api/textfileprocess` - 文档文字提取
- `POST /api/generate_handwriting` - 生成手写图片/PDF
- `POST /api/loveseed/verify` - 验证相思豆
- `POST /api/loveseed/consume` - 消耗相思豆

## 注意事项

1. **浏览器兼容性**：推荐使用Chrome、Edge、Firefox等现代浏览器
2. **后端依赖**：需要后端服务在`http://localhost:5000`运行
3. **CORS设置**：后端已配置CORS允许跨域访问
4. **文件大小**：建议单次生成不超过10页内容

## 开发说明

### 修改API地址

如果后端地址不是`localhost:5000`，请修改`app.js`第2行：

```javascript
const API_BASE_URL = 'http://your-backend-url:5000';
```

### 自定义样式

CSS变量在`styles.css`开头定义，可以轻松自定义主题颜色：

```css
:root {
    --primary-color: #4A90E2;
    --secondary-color: #50C878;
    /* ... */
}
```

## 许可证

与主项目相同

## 反馈与支持

如有问题或建议，请在主项目提Issue。
